---
import Container from "@components/container.astro";
import Link from "@components/ui/link.astro";
import { Icon } from "astro-icon";

const menuitems = [
  {
    title: "Servicios",
    path: "/servicios",
  },
  {
    title: "Nosotros",
    path: "/nosotros",
  },
  {
    title: "Blog",
    path: "/blog",
  },
  {
    title: "Contacto",
    path: "/contacto",
  },
];

const currentPath = Astro.url.pathname;
---

<Container>
  <header
    class="flex flex-col lg:flex-row justify-between items-center my-5"
    x-data="{ open: false }">
    <div class="w-full lg:w-auto flex justify-between">
      <a href="/" class="lg:w-auto text-3xl inline-flex">
        <svg
          class="fill-slate-800"
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 16 16"
          ><path
            d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53l.529.531l-.001.002l-.002.002l-.006.006l-.006.005l-.01.01l-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454a3.544 3.544 0 0 1-.686-.45l-.045-.04l-.016-.015l-.006-.006l-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53l.529.531l-.001.002l-.002.002l-.006.006l-.016.015l-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454a3.544 3.544 0 0 1-.686-.45l-.045-.04l-.016-.015l-.006-.006l-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"
          ></path></svg
        >
        <span class="font-bold text-slate-800 pl-2">Tosca</span><span
          class="font-semibold text-slate-500">&</span
        ><span class="font-bold text-slate-800">Asociados</span>
      </a>
      <button
        class="lg:hidden"
        @click="open = !open"
        x-on:click.outside="open = false">
        <Icon
          x-cloak
          x-show="!open"
          name="ic:round-menu"
          class="h-12 text-slate-800"
        />
        <Icon
          x-cloak
          x-show="open"
          name="ic:round-menu-open"
          class="h-12 text-slate-800"
        />
      </button>
    </div>
    <div class="hidden lg:flex space-x-8 text-lg pt-2">
      {menuitems.map((item) => <a href={item.path}>{item.title}</a>)}
    </div>
    <div class="hidden lg:flex items-center gap-4">
      <Link
        href="https://wa.link/u6rcx0"
        style="muted"
        block
        size="md"
        target="_blank">
        <Icon name="bi:whatsapp" class="h-4 inline mb-1 pr-1" /> Whatsapp
      </Link>
    </div>
    <ul
      class="lg:hidden flex-col space-y-4 w-full justify-center"
      x-cloak
      x-show="open"
      x-transition>
      {
        menuitems.map((item) => (
          <li>
            <a
              href={item.path}
              class="flex items-center bg-slate-400 bg-opacity-10 p-1 rounded-xl">
              <svg
                class="fill-slate-800"
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                viewBox="0 0 24 24">
                <path d="M6 7c0 .55.45 1 1 1h7.59l-8.88 8.88a.996.996 0 1 0 1.41 1.41L16 9.41V17c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1z" />
              </svg>
              {item.title}
            </a>
          </li>
        ))
      }
    </ul>
  </header>
</Container>
